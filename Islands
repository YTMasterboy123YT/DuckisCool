local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Muscle Legends Ultimate", "Ocean")

-- Main Training Tab
local Training = Window:NewTab("Training")
local TrainingSection = Training:NewSection("Auto Train")

TrainingSection:NewToggle("Auto Strength", "Auto clicks strength training", function(state)
    getgenv().autoStrength = state
    while getgenv().autoStrength do
        local args = {
            [1] = "rep"
        }
        game:GetService("ReplicatedStorage").RSPackage.Events.StatFunction:InvokeServer(unpack(args))
        wait()
    end
end)

TrainingSection:NewToggle("Auto Durability", "Auto trains durability", function(state)
    getgenv().autoDurability = state
    while getgenv().autoDurability do
        game:GetService("ReplicatedStorage").RSPackage.Events.Train:FireServer()
        wait()
    end
end)

-- Rock Training Section
local RockSection = Training:NewSection("Rock Training")

local rockLocations = {
    ["Small Rock"] = CFrame.new(-269, 281, 1005),
    ["Medium Rock"] = CFrame.new(-369, 281, 1005),
    ["Large Rock"] = CFrame.new(-469, 281, 1005),
    ["Giant Rock"] = CFrame.new(-569, 281, 1005),
    ["Massive Rock"] = CFrame.new(-669, 281, 1005),
    ["Legendary Rock"] = CFrame.new(-769, 281, 1005),
    ["Mythical Rock"] = CFrame.new(2220.0595703125, 7.321215629577637, 1228.5823974609375),
    ["Legend Rock"] = CFrame.new(4187.1787109375, 991.5241088867188, -4065.08251953125),
    ["Muscle King Mountain"] = CFrame.new(-8976.455078125, 9.191204071044922, -6130.7373046875)
}

RockSection:NewDropdown("Teleport to Rock", "Select rock to teleport to", {"Small Rock", "Medium Rock", "Large Rock", "Giant Rock", "Massive Rock", "Legendary Rock", "Mythical Rock", "Legend Rock", "Muscle King Mountain"}, function(selected)
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = rockLocations[selected]
end)

RockSection:NewToggle("Auto Rock Lift", "Automatically lifts selected rock", function(state)
    getgenv().autoRock = state
    while getgenv().autoRock do
        game:GetService("ReplicatedStorage").RSPackage.Events.RockLift:FireServer()
        wait()
    end
end)

-- Farming Tab
local Farm = Window:NewTab("Farming")
local FarmSection = Farm:NewSection("Auto Farm")

FarmSection:NewToggle("Auto Collect Chests", "Collects all available chests", function(state)
    getgenv().autoChests = state
    while getgenv().autoChests do
        for _,v in pairs(game:GetService("Workspace").ChestFolder:GetDescendants()) do
            if v.Name == "TouchInterest" and v.Parent then
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 0)
                wait(0.1)
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v.Parent, 1)
            end
        end
        wait(1)
    end
end)

FarmSection:NewToggle("Auto Rebirth", "Automatically rebirths when possible", function(state)
    getgenv().autoRebirth = state
    while getgenv().autoRebirth do
        game:GetService("ReplicatedStorage").RSPackage.Events.Rebirth:FireServer()
        wait(1)
    end
end)

-- Teleports Tab
local Teleport = Window:NewTab("Teleports")
local TeleportSection = Teleport:NewSection("Training Areas")

local locations = {
    ["Muscle Island"] = CFrame.new(4, 3, 0),
    ["Legends Gym"] = CFrame.new(-6970, 3, -1378),
    ["Mythical Gym"] = CFrame.new(-8070, 3, -1378),
    ["Eternal Gym"] = CFrame.new(-9070, 3, -1378),
    ["Legend Arena"] = CFrame.new(-7070, 3, -1378)
}

TeleportSection:NewDropdown("Training Areas", "Teleport to training areas", {"Muscle Island", "Legends Gym", "Mythical Gym", "Eternal Gym", "Legend Arena"}, function(selected)
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = locations[selected]
end)

-- Misc Tab
local Misc = Window:NewTab("Misc")
local MiscSection = Misc:NewSection("Other Features")

MiscSection:NewSlider("WalkSpeed", "Changes walk speed", 500, 16, function(s)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = s
end)

MiscSection:NewSlider("JumpPower", "Changes jump power", 500, 50, function(s)
    game.Players.LocalPlayer.Character.Humanoid.JumpPower = s
end)

MiscSection:NewToggle("Infinite Jump", "Enables infinite jump", function(state)
    getgenv().infiniteJump = state
    game:GetService("UserInputService").JumpRequest:connect(function()
        if getgenv().infiniteJump then
            game:GetService"Players".LocalPlayer.Character:FindFirstChildOfClass'Humanoid':ChangeState("Jumping")
        end
    end)
end)

-- Special Features
local SpecialSection = Misc:NewSection("Special Features")

SpecialSection:NewButton("Remove Kill Parts", "Removes all kill parts", function()
    for i,v in pairs(game:GetService("Workspace"):GetDescendants()) do
        if v.Name == "KillPart" then
            v:Destroy()
        end
    end
end)

SpecialSection:NewToggle("Auto Collect Protein", "Automatically collects protein", function(state)
    getgenv().autoProtein = state
    while getgenv().autoProtein do
        for i,v in pairs(game:GetService("Workspace"):GetDescendants()) do
            if v.Name == "Protein" then
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v, 0)
                wait(0.1)
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, v, 1)
            end
        end
        wait(1)
    end
end)
