-- Ensure this script runs in a LocalScript
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

-- Find the machinesFolder in Workspace
local machinesFolder = game.Workspace:FindFirstChild("machinesFolder")
if not machinesFolder then
    warn("machinesFolder not found!")
    return
end

-- Create the dropdown UI
local ScreenGui = Instance.new("ScreenGui")
local dropdown = Instance.new("Frame")
dropdown.Size = UDim2.new(0, 200, 0, 150)
dropdown.Position = UDim2.new(0.5, -100, 0.5, -75)
dropdown.BackgroundColor3 = Color3.new(1, 1, 1)
dropdown.Parent = ScreenGui
ScreenGui.Parent = game.CoreGui

local function createButton(rockName)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 50)
    button.Text = rockName
    button.Parent = dropdown

    button.MouseButton1Click:Connect(function()
        local rockFolder = machinesFolder:FindFirstChild(rockName)
        if not rockFolder then
            warn(rockName .. " not found!")
            return
        end

        local rock = rockFolder:FindFirstChild("Rock")
        if not rock then
            warn("Rock not found in " .. rockName)
            return
        end

        -- Make the rock invisible and scale it down
        rock.Transparency = 1 -- Make it invisible
        rock.Size = Vector3.new(0.5, 0.5, 0.5) -- Scale it down to fit the hand

        -- Disable physics to prevent it from moving or teleporting the player
        rock.CanCollide = false

        -- Function to teleport the rock to the player's right hand
        local function teleportRockToHand()
            if character and character:FindFirstChild("RightHand") then
                rock.CFrame = character.RightHand.CFrame * CFrame.new(0, 0, -1) -- Adjust position in front of the right hand
            end
        end

        -- Teleport the rock to the hand every 0.1 seconds (adjustable)
        while wait(0.1) do
            teleportRockToHand()
        end
    end)
end

-- Create buttons for each rock
local rockNames = {"Muscle King Mountain", "Frozen Rock", "Rock Of Legends"}
for _, rockName in ipairs(rockNames) do
    createButton(rockName)
end
