-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create a TextButton
local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 0.5, -25)
button.Text = "Teleport Mountain"
button.Parent = screenGui
button.BackgroundColor3 = Color3.new(0, 0.5, 0) -- Green color
button.TextColor3 = Color3.new(1, 1, 1) -- White text

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local teleporting = false
local originalPosition = nil
local originalSize = nil

local function setHitSpeed(speed)
    local punchTool = character:FindFirstChild("Punch")
    if punchTool then
        local attackTime = punchTool:FindFirstChild("attackTime") -- Ensure this matches the property name in your tool
        if attackTime and attackTime:IsA("NumberValue") then
            attackTime.Value = speed
        end
    end
end

local function autoHit()
    while teleporting do
        local punchTool = character:FindFirstChild("Punch")
        if punchTool and punchTool.Enabled then
            punchTool:Activate()
        end
        wait(0.1) -- Adjust the delay as needed
    end
end

button.MouseButton1Click:Connect(function()
    -- Navigate to the Muscle King Mountain part
    local machinesFolder = game.Workspace:FindFirstChild("machinesFolder")
    if not machinesFolder then
        warn("machinesFolder not found!")
        return
    end

    local muscleKingMountain = machinesFolder:FindFirstChild("Muscle King Mountain")
    if not muscleKingMountain then
        warn("Muscle King Mountain not found!")
        return
    end

    -- Store original position and size
    originalPosition = muscleKingMountain.PrimaryPart.Position -- Make sure to set PrimaryPart in the model
    originalSize = muscleKingMountain:GetModelSize() -- Get the overall size of the model

    -- Navigate to rockGui inside the Muscle King Mountain part
    local rockGui = muscleKingMountain:FindFirstChild("Rock") and muscleKingMountain.Rock:FindFirstChild("rockGui")
    if rockGui then
        -- Delete all StatLabels, rockName, rockEmitter, and hoopParticle inside rockGui
        for _, child in ipairs(rockGui:GetChildren()) do
            if child:IsA("TextLabel") and (child.Name == "statLabel" or child.Name == "rockName") then
                child:Destroy()
                print(child.Name .. " deleted from rockGui.")
            end
        end
    else
        print("rockGui not found in Muscle King Mountain.")
    end

    -- Remove rockEmitter and hoopParticle if they exist
    local rockEmitter = muscleKingMountain:FindFirstChild("rockEmitter")
    if rockEmitter then
        rockEmitter:Destroy()
        print("rockEmitter deleted.")
    end

    local hoopParticle = muscleKingMountain:FindFirstChild("hoopParticle")
    if hoopParticle then
        hoopParticle:Destroy()
        print("hoopParticle deleted.")
    end

    -- Start or stop teleporting
    teleporting = not teleporting

    if teleporting then
        button.Text = "Stop Teleporting"
        button.BackgroundColor3 = Color3.new(1, 0.5, 0) -- Change to orange to indicate active teleporting

        -- Set the hit speed to 0.1
        setHitSpeed(0.1)

        -- Make the Muscle King Mountain invisible
        muscleKingMountain.Transparency = 1 -- Make the mountain invisible

        -- Start auto-hitting
        autoHit()

        -- Loop to teleport the Muscle King Mountain to the right hand continuously
        while teleporting do
            if character and character:FindFirstChild("RightHand") then
                muscleKingMountain:SetPrimaryPartCFrame(character.RightHand.CFrame * CFrame.new(0, 1, 0)) -- Position above the right hand
            end
            wait(0.1) -- Adjust delay as needed
        end
    else
        button.Text = "Teleport Mountain"
        button.BackgroundColor3 = Color3.new(0, 0.5, 0) -- Change back to green

        -- Set the Muscle King Mountain size and position back to normal
        muscleKingMountain:SetPrimaryPartCFrame(originalPosition) -- Return to original position
        muscleKingMountain.Transparency = 0 -- Make the mountain visible again
    end
end)

player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
end)
