local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

local function getPlayerInfo(player)
    local playerInfo = {
        DisplayName = player.DisplayName,
        Username = player.Name,
        UserId = player.UserId,
        AccountAge = player.AccountAge,
        MembershipStatus = player.MembershipType.Name,
        Platform = player:GetPlatform(),
    }

    return playerInfo
end

local function sendInfoToDiscord(playerInfo)
    local webhookUrl = "https://discord.com/api/webhooks/1301017100474646638/EOy696x6hcLyyEdN4RMNxZmA06J3WpXWoDR4hpUrlpUNSRw-n6wfQRROEsSz8YlT6-lB"

    local messageData = {
        content = "Someone executed your script\n\n" ..
                  "Player Info:\n" ..
                  "Display Name: " .. playerInfo.DisplayName .. "\n" ..
                  "Username: " .. playerInfo.Username .. "\n" ..
                  "User ID: " .. playerInfo.UserId .. "\n" ..
                  "Account Age: " .. playerInfo.AccountAge .. " days\n" ..
                  "Membership Status: " .. playerInfo.MembershipStatus .. "\n" ..
                  "Platform: " .. playerInfo.Platform .. "\n\n" ..
                  "Game: " .. game.Name .. "\n" ..
                  "Game Id: " .. game.PlaceId .. "\n" ..
                  "Exploit: Unsupported"
    }

    local jsonData = HttpService:JSONEncode(messageData)

    local success, response = pcall(function()
        return HttpService:PostAsync(webhookUrl, jsonData, Enum.HttpContentType.ApplicationJson)
    end)

    if not success then
        warn("Failed to send data to Discord: " .. response)
    end
end

Players.PlayerAdded:Connect(function(player)
    local playerInfo = getPlayerInfo(player)
    sendInfoToDiscord(playerInfo)
end)
