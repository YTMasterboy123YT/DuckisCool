local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local Window = OrionLib:MakeWindow({
    Name = "Ducks Private Script", 
    HidePremium = false, 
    SaveConfig = true, 
    ConfigFolder = "OrionTest",
    IntroEnabled = true,
    IntroText = "Welcome to Ducks Private Script!", 
    IntroIcon = "https://i.imgur.com/dWXaDfO.jpg"
})

local Players = game:GetService("Players")

-- Table to store selected players
local SelectedPlayers = {}

-- Function to update selected players
local function updateSelectedPlayers(playerName)
    if SelectedPlayers[playerName] then
        SelectedPlayers[playerName] = nil
    else
        SelectedPlayers[playerName] = true
    end
end

-- Main Tab
local MainTab = Window:MakeTab({
    Name = "Main Tab",
    Icon = "rbxassetid://132359476107633",
    PremiumOnly = false
})

MainTab:AddLabel("Main Tab - Duck")

-- Dropdown for player selection
MainTab:AddDropdown({
    Name = "Select Players",
    Options = {},
    MultiSelect = true,  -- Enable multiple selection
    Callback = function(selectedOptions)
        for _, playerName in ipairs(selectedOptions) do
            updateSelectedPlayers(playerName)
        end
    end,
})

-- Populate dropdown with player names
local function populatePlayerDropdown()
    local playerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end
    MainTab:UpdateDropdown({
        Name = "Select Players",
        Options = playerNames,
    })
end

populatePlayerDropdown()

-- Action Button
MainTab:AddButton({
    Name = "Perform Action on Selected Players",
    Callback = function()
        for playerName, _ in pairs(SelectedPlayers) do
            if playerName then
                print("Performing action on: " .. playerName)
                -- Here you can add your desired action for each selected player
            end
        end
        SelectedPlayers = {} -- Clear selection after action
    end
})

print("Player Selector GUI Loaded. Use the dropdown to select players and perform actions.")
