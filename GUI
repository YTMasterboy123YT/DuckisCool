local AutoKillWindow = OrionLib:MakeWindow({
    Name = "Auto Kill - Duck",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "AutoKillConfig",
    IntroEnabled = true,
    IntroText = "Welcome to Auto Kill!",
    IntroIcon = "https://i.imgur.com/dWXaDfO.jpg"
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Gather player names for the dropdown
local playerNames = {}
for _, player in ipairs(Players:GetPlayers()) do
    table.insert(playerNames, player.Name)
end

-- Dropdown for selecting players to auto kill
AutoKillWindow:MakeTab({
    Name = "Auto Kill",
    Icon = "rbxassetid://132359476107633",
    PremiumOnly = false
})

AutoKillWindow:AddLabel("Auto Kill - Duck")

AutoKillWindow:AddDropdown({
    Name = "Select Players for Auto Kill",
    Options = playerNames, -- List of player names
    MultiSelect = true, -- Enable multiple selection
    Callback = function(selectedOptions)
        _G.autoKillTargets = selectedOptions -- Store selected targets globally
    end,
})

-- Auto kill toggle
AutoKillWindow:AddToggle({
    Name = "Enable Auto Kill",
    Default = false,
    Callback = function(Value)
        local autoKilling = Value
        
        local function performAutoKill()
            while autoKilling do
                wait(0.1) -- Adjust delay as needed
                
                for _, targetName in ipairs(_G.autoKillTargets) do
                    local targetPlayer = Players:FindFirstChild(targetName)
                    if targetPlayer and targetPlayer.Character then
                        local targetHumanoid = targetPlayer.Character:FindFirstChildOfClass("Humanoid")
                        if targetHumanoid then
                            -- Perform the killing action (e.g., attack)
                            local tool = LocalPlayer.Backpack:FindFirstChild("Punch") or LocalPlayer.Character:FindFirstChild("Punch")
                            if tool then
                                -- Equip and activate the tool
                                LocalPlayer.Character.Humanoid:EquipTool(tool)
                                tool:Activate()
                            end
                        end
                    end
                end
            end
        end

        if autoKilling then
            print("Auto Kill enabled.")
            performAutoKill()
        else
            print("Auto Kill disabled.")
        end
    end
})

