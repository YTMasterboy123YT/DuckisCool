-- Define services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Global variables for toggle state and lists
_G.teleportPlayersActive = false
_G.noKillList = {}
_G.killList = {}

-- Function to create and display notification
local function showNotification(message)
    local Notification = Instance.new("ScreenGui")
    local TextLabel = Instance.new("TextLabel")

    TextLabel.Text = message
    TextLabel.Size = UDim2.new(0.3, 0, 0.1, 0)
    TextLabel.Position = UDim2.new(0.5, -75, 0.1, 0)
    TextLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel.TextScaled = true
    TextLabel.Parent = Notification

    Notification.Parent = game.CoreGui

    -- Fade out effect
    for i = 1, 10 do
        wait(0.1)
        TextLabel.TextTransparency = i / 10
    end

    Notification:Destroy()
end

-- Function to continuously teleport player characters and hit them
local function teleportAndHitPlayers()
    while _G.teleportPlayersActive do
        wait(0.1)

        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= LocalPlayer and not _G.noKillList[otherPlayer.Name] then
                local targetCharacter = otherPlayer.Character
                if targetCharacter and targetCharacter:FindFirstChild("Humanoid") and targetCharacter:FindFirstChild("HumanoidRootPart") then
                    targetCharacter:SetPrimaryPartCFrame(LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, 5, 0))
                    targetCharacter.Humanoid:TakeDamage(10) -- Adjust damage as needed
                end
            end
        end
    end
end

-- Function to teleport only players not on the kill list
local function teleportSafePlayers()
    showNotification("Teleporting players not on the kill list.")

    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= LocalPlayer and not _G.killList[otherPlayer.Name] then
            local targetCharacter = otherPlayer.Character
            if targetCharacter and targetCharacter:FindFirstChild("HumanoidRootPart") then
                targetCharacter:SetPrimaryPartCFrame(LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0, 5, 0))
            end
        end
    end
end

-- GUI setup
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()
local Window = OrionLib:MakeWindow({Name = "Teleportation Script", HidePremium = false})

-- Teleportation Tab
local TeleportationTab = Window:MakeTab({
    Name = "Teleportation",
    Icon = "rbxassetid://4483345998", -- Change icon if needed
    Premium = false
})

TeleportationTab:AddButton({
    Name = "Start Teleporting and Hitting",
    Callback = function()
        _G.teleportPlayersActive = true
        showNotification("Started teleporting and auto-hitting players.")
        teleportAndHitPlayers()
    end
})

TeleportationTab:AddButton({
    Name = "Stop Teleporting and Hitting",
    Callback = function()
        _G.teleportPlayersActive = false
        showNotification("Stopped teleporting and auto-hitting players.")
    end
})

TeleportationTab:AddButton({
    Name = "Teleport Safe Players",
    Callback = function()
        teleportSafePlayers()
    end
})

-- Kill List Management Tab
local KillListTab = Window:MakeTab({
    Name = "Kill List Management",
    Icon = "rbxassetid://4483345998", -- Change icon if needed
    Premium = false
})

KillListTab:AddTextbox({
    Name = "Add to Kill List",
    PlaceholderText = "Enter player name",
    TextDisappear = true,
    Callback = function(value)
        if value and value ~= "" then
            _G.killList[value] = true
            showNotification(value .. " added to the kill list.")
        end
    end
})

KillListTab:AddButton({
    Name = "Clear Kill List",
    Callback = function()
        _G.killList = {}
        showNotification("Kill list cleared.")
    end
})

-- No Kill List Management Tab
local NoKillListTab = Window:MakeTab({
    Name = "No Kill List Management",
    Icon = "rbxassetid://4483345998", -- Change icon if needed
    Premium = false
})

NoKillListTab:AddTextbox({
    Name = "Add to No Kill List",
    PlaceholderText = "Enter player name",
    TextDisappear = true,
    Callback = function(value)
        if value and value ~= "" then
            _G.noKillList[value] = true
            showNotification(value .. " added to the no-kill list.")
        end
    end
})

NoKillListTab:AddButton({
    Name = "Clear No Kill List",
    Callback = function()
        _G.noKillList = {}
        showNotification("No kill list cleared.")
    end
})

OrionLib:Init()
