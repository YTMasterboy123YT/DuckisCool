local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

local autoHitActive = false
local teleportPlayersActive = false

local function autoHit()
    LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
    LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
end

local function teleportAndRemoveLimbs()
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= LocalPlayer then
            local targetCharacter = otherPlayer.Character
            if targetCharacter and targetCharacter:FindFirstChild("HumanoidRootPart") then
                -- Teleport to local player
                targetCharacter:SetPrimaryPartCFrame(LocalPlayer.Character.HumanoidRootPart.CFrame)

                -- Remove arms and hands
                local leftArm = targetCharacter:FindFirstChild("Left Arm")
                local rightArm = targetCharacter:FindFirstChild("Right Arm")
                local leftHand = targetCharacter:FindFirstChild("LeftHand")
                local rightHand = targetCharacter:FindFirstChild("RightHand")

                if leftArm then leftArm:Destroy() end
                if rightArm then rightArm:Destroy() end
                if leftHand then leftHand:Destroy() end
                if rightHand then rightHand:Destroy() end
            end
        end
    end
end

RunService.Heartbeat:Connect(function()
    if autoHitActive then 
        autoHit() 
        teleportAndRemoveLimbs()
    end
end)

LocalPlayer.Chatted:Connect(function(message)
    if message:lower() == "lol" then
        autoHitActive = true
        teleportPlayersActive = true
    end
end)
